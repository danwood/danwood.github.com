<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<script type="text/javascript">
		  (function() {
		    var config = {
		      kitId: 'fwg6fzg',
		      scriptTimeout: 3000
		    };
		    var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/(\s|^)wf-loading(\s|$)/g," ");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script"),d=false;tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(d||a&&a!="complete"&&a!="loaded")return;d=true;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
		  })();
		</script>		<title>Auto-Update your Hosts File to Disable Adware and Other Web Junk | Dan Wood: The Eponymous Blog</title>
		<meta name="robots" content="all" />
		<meta name="generator" content="Sandvox 2.10.6" />
		<meta name="viewport" content="width=760" />
		<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
		<link rel="canonical" href="http://gigliwood.com/blog/auto-update-your-hosts-file.html" />
		
		<script>
		WebFontConfig={google:{families:["Droid Serif",]},timeout:3e3};(function(){document.documentElement.className='wf-loading';var e=document.createElement('script');e.src=('https:'==document.location.protocol?'https':'http')+'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';e.type='text/javascript';e.async='true';var t=document.getElementsByTagName('script')[0];t.parentNode.insertBefore(e,t);window.setTimeout(function(){if((' '+document.documentElement.className+' ').indexOf(' wf-active ')<0){document.documentElement.className='wf-punt'}},3e3)})()
		</script>
		<link rel="stylesheet" type="text/css" href="sandvox_SlateManifest_green/main.css" title="Slate Manifest Green" /><!--[if lt IE 6]>
		<link rel="stylesheet" type="text/css" href="sandvox_SlateManifest_green/ie.css" /><![endif]-->
		<!--
		Photo credits for this website's design: <http://gigliwood.com/blog/sandvox_SlateManifest_green/Credits.rtf>
		Licensing for this website's design:     <http://gigliwood.com/blog/sandvox_SlateManifest_green/License.rtf>
		-->
		
		<script type="text/javascript">
		
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-40201594-1']);
		  _gaq.push(['_trackPageview']);
		
		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		
		</script>
	</head>
	<body class="sandvox has-page-title no-sidebar no-custom-banner no-navigation no-IR" id="gigliwood_com_blog" >
				<div id="page-container">
			<div id="page">
				<div id="page-top" class="has-logo has-title has-tagline">
					<div id="title">
						<a href="./" class="imageLink"><span id="logo-container"><img id="logo" src="_Media/imgp3949jpg_med_hr.jpeg" alt="IMGP3949.JPG" width="105" height="105" /></span></a>
						<h1 class="title in"><a href="./"><span class="in">Dan Wood: The Eponymous Blog<br /></span></a></h1>
						<p id="tagline"><span class="in"><span style="font-size: 12px; font-family: Georgia;">Dan Wood is president of Karelia Software, creators of the </span><a href="http://www.karelia.com/sandvox/" style="font-family: Georgia; font-size: 12px;">Sandvox website builder for the Mac</a><span style="font-size: 12px; font-family: Georgia;">. He is the father of two kids, lives in the Bay Area of California USA, keeps bees in the back yard, volunteers with his kids’ theatre company, and prefers bicycles to cars. This site is his new blog, which mostly covers geeky topics like Macs and Mac Programming. (Visit the </span><a href="http://gigliwood.com/weblog/" style="font-family: Georgia; font-size: 12px;">older blog</a><span style="font-size: 12px; font-family: Georgia;">.) </span><em style="font-family: Georgia; font-size: 12px;"><a href="https://twitter.com/danwood">Twitter</a></em><br /></span></p>
					</div><!-- title -->
					<div id="sitemenu-container">
						
					</div> <!-- sitemenu-container -->
				</div> <!-- page-top -->
				<div class="clear below-page-top"></div>
				<div id="page-content" class="no-navigation">
					<div id="main">
						<div id="main-top"></div>
						<div id="main-content">
							<h2 class="title"><span class="in">Auto-Update your Hosts File to Disable Adware and Other Web Junk</span></h2>
							<div class="article">
								<div class="article-content">
									<div class="RichTextElement">
										<div><p>There's a great resource you should install on your Mac(s): a "hosts" file called "<a href="http://someonewhocares.org/hosts/">how to make the internet not suck (as much)</a>." This is a huge file that masks tons of nasty websites that you probably don't want to see any content from: shock-sites like GoatSe, user-tracking sites, nasty popups, known trojan/malware sites, adware sites like doubleclick.net, and so forth.</p><p>I don't want to see any content from any of these domains, and you probably don't either. Fortunately, Dan Pollock has created this mammoth file, which, if properly installed, will block these domains from being reached. And, he updates the file pretty frequently as new honorees are inducted into the hall of shame.</p><p>Here's a technique I came up with to install and update this file on your system. Once a week, it fetches a fresh update to the file and installs it on your system.</p><p>It does take a bit of command-line-fu, however.</p><p>First, you need to become root in the terminal.  Type this, and then enter your password when prompted:</p><p><span style="font-size: 14px; font-family: Courier; "><strong>sudo su -</strong></span></p><p>You should see a new prompt, something like this:</p><p><span style="font-family: Courier; background-color: transparent; font-size: 14px; "><em>DansMac:~ root# </em></span></p><p>First, get a current copy of the file, by pasting this line:</p><p><span style="background-color: transparent; font-size: 14px; font-family: Courier; "><strong>curl --silent http://someonewhocares.org/hosts/hosts | grep '^127.0.0.1' &gt; /etc/hosts</strong></span></p><p>Now type this to edit your system's (not your user's) crontab file. These are the periodic tasks that your system will perform.</p><p><span style="background-color: transparent; font-size: 14px; font-family: Courier; "><strong>crontab -e</strong></span></p><p>This will open up a terminal-based text editor. Maybe you have configured that to your editor of choice (*cough*vi*cough*) or you can stumble your way through whatever is offered as a default.</p><p>Paste in a line similar to this:</p><p><span style="background-color: transparent; font-size: 14px; font-family: Courier; "><strong>10 10 * * 3 curl --silent http://someonewhocares.org/hosts/hosts</strong></span><strong style="font-family: Courier; font-size: 14px; "> | grep '^127.0.0.1'</strong><strong style="background-color: transparent; font-family: Courier; font-size: 14px; "> &gt; /etc/hosts</strong></p><p>You can adjust the parameters before the <em>curl</em> command.  In this case, it's going to fetch a fresh copy at 10:10 on the third day of the week (Wednesday).</p><p>Close and save the crontab editor, and you should be set!</p><p>There you have it.  My Christmas* gift to you.</p><p><em>* If you don't celebrate Christmas, consider it a belated birthday gift! Next year I'll try to send you a card!</em></p><p><em><strong>Update: I've updated the command to only bring in lines that start with 127.0.0.1 so that it's impossible for this file, if somehow compromised, to do anything other than redirect a domain to your own machine.</strong></em></p></div>
									</div>
								</div> <!-- /article-content -->
								<div class="article-info">
									<div class="timestamp in"><span class="in">Dec 19, 2012, 9:50 AM</span></div>
															<!-- comments -->
															
															
						                                    <div id="disqus_thread"></div>
						                                    
															
															
															<!-- comments -->		</div> <!-- /article-info -->
							</div> <!-- /article -->
						</div> <!-- main-content -->
						<div id="main-bottom"></div>
					</div> <!-- main -->
				</div> <!-- content -->
				<div class="clear below-content"></div>
				<div id="page-bottom">
					<div id="page-bottom-contents">
						<div>© Dan Wood 2012-2016. <a href="comments-policy.html">My Comments Policy</a></div>
						<div class="hidden"> <a rel="nofollow" href="#title">[Back To Top]</a></div>
					</div>
				</div> <!-- page-bottom -->
			</div> <!-- container -->
			<div id="extraDiv1"><span></span></div><div id="extraDiv2"><span></span></div><div id="extraDiv3"><span></span></div><div id="extraDiv4"><span></span></div><div id="extraDiv5"><span></span></div><div id="extraDiv6"><span></span></div>
		</div> <!-- specific body type -->
		<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js"></script>
		<script>
		if (typeof jQuery === 'undefined') document.write('<scr'+'ipt src="_Resources/jquery-1.9.1.min.js"></scr'+'ipt>');
		</script>
		
		<script>
		var disqus_shortname = 'danwood';
		var disqus_url = 'http://gigliwood.com/blog/auto-update-your-hosts-file.html';
		var disqus_title = 'Auto-Update your Hosts File to Disable Adware and Other Web Junk';
		(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.charset = 'utf-8';
		dsq.src = '//danwood.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
		</script>
		
	</body>
</html>